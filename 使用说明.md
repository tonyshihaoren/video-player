# 全能播放器使用说明

## 📱 两个版本

### 1. Windows电脑版 (`windows_player.py`)

**功能特点：**
- ✅ 支持视频/音频播放（MP4、AVI、MKV、MOV、WMV、MP3、WAV、FLAC等）
- ✅ **AB点循环播放** - 可设置起点A和终点B，自动循环
- ✅ **慢进/快进** - 0.1x ~ 4.0x 速度调节
- ✅ 进度条拖拽
- ✅ 音量控制
- ✅ 截图功能
- ✅ 全屏播放
- ✅ 支持拖拽文件到窗口播放
- ✅ 键盘快捷键

**安装运行：**
```bash
# 安装依赖
pip install PyQt6

# 运行
python windows_player.py
```

**快捷键：**
| 快捷键 | 功能 |
|--------|------|
| 空格 | 播放/暂停 |
| A | 设置A点（AB循环起点） |
| B | 设置B点（AB循环终点） |
| ← | 后退5秒 |
| → | 前进5秒 |
| Esc | 退出全屏 |
| Ctrl+O | 打开文件 |

**AB循环使用方法：**
1. 播放视频到想要的起点位置
2. 点击"设置A点"按钮（或按A键）
3. 播放到想要的终点位置
4. 点击"设置B点"按钮（或按B键）
5. 自动开始AB循环播放
6. 点击"清除AB点"取消循环

---

### 2. Android手机版 (`android_player.py`)

**功能特点：**
- ✅ 支持视频/音频播放
- ✅ **AB点循环播放**
- ✅ **慢进/快进** - 0.1x ~ 3.0x 速度调节
- ✅ 进度条拖拽
- ✅ 快进/快退按钮
- ✅ 循环播放开关
- ✅ 触屏操作优化

**Windows测试运行：**
```bash
# 安装依赖
pip install kivy

# 运行（模拟手机界面）
python android_player.py
```

**打包APK（Android手机安装）：**
```bash
# 1. 安装buildozer（Linux/Mac推荐，Windows可用WSL）
pip install buildozer

# 2. 初始化配置
buildozer init

# 3. 编辑 buildozer.spec 文件，修改：
# title = 全能播放器
# package.name = videoplayer
# package.domain = com.yourname
# source.include_exts = py,png,jpg,kv,atlas,mp4,avi,mp3
# requirements = python3,kivy

# 4. 构建APK
buildozer android debug deploy run
```

**Android版使用方法：**
1. 点击"打开"按钮选择视频文件
2. 使用"▶️播放/⏸️暂停"控制播放
3. 播放到起点位置，点击"设置A点"
4. 播放到终点位置，点击"设置B点"
5. 自动开始AB循环
6. 拖动"播放速度"滑块调节速度
7. 点击"慢进0.5x"等快捷按钮快速调速

---

## 🔧 常见问题

### Windows版

**Q: 提示找不到PyQt6？**
```bash
pip install PyQt6 -i https://pypi.tuna.tsinghua.edu.cn/simple
```

**Q: 播放某些视频格式失败？**
需要安装LAV Filters或K-Lite Codec Pack解码器。

**Q: 如何打包成exe？**
```bash
pip install pyinstaller
pyinstaller --onefile --windowed --name 全能播放器 windows_player.py
```

### Android版

**Q: Kivy窗口显示不正常？**
检查显卡驱动，或在代码开头添加：
```python
import os
os.environ['KIVY_GL_BACKEND'] = 'angle_sdl2'
```

**Q: 打包APK失败？**
- 需要在Linux或WSL环境下打包
- 确保安装了Java JDK、Android SDK
- 首次打包需要下载大量依赖，请耐心等待

**Q: Android手机无法选择文件？**
需要添加文件读取权限，在buildozer.spec中：
```
android.permissions = READ_EXTERNAL_STORAGE,WRITE_EXTERNAL_STORAGE
```

---

## 📋 功能对比

| 功能 | Windows版 | Android版 |
|------|-----------|-----------|
| 视频播放 | ✅ | ✅ |
| 音频播放 | ✅ | ✅ |
| AB点循环 | ✅ | ✅ |
| 慢进/快进 | ✅ 0.1-4.0x | ✅ 0.1-3.0x |
| 进度条拖拽 | ✅ | ✅ |
| 截图 | ✅ | ❌ |
| 全屏 | ✅ | ✅ |
| 音量控制 | ✅ | 系统音量 |
| 快捷键 | ✅ | ❌ |
| 拖拽文件 | ✅ | ❌ |

---

## 📞 技术支持

如有问题，请检查：
1. Python版本是否 >= 3.8
2. 依赖包是否正确安装
3. 视频文件格式是否受支持

---

**制作日期**: 2026-02-21
